<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Asistencia Personal - RIO</title>
  <meta name="description" content="Carga de asistencia por sucursal (solo lectura para locales) con backend en Google Sheets." />
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <header class="topbar">
    <div class="topbar-left">
      <div class="brand">RIO Tools Suite</div>
      <div class="subtitle">Asistencia de Personal</div>
    </div>

    <div class="topbar-right">
      <a class="btn-ghost" href="../../index.html">Volver al inicio</a>
    </div>
  </header>

  <main class="container">
    <section class="card">
      <div class="card-head">
        <h1>Cargar asistencia</h1>
        <div class="pill" id="statusPill" aria-live="polite">
          <span class="dot" id="pillDot"></span>
          <span id="pillText">Listo</span>
        </div>
      </div>

      <div class="grid">
        <!-- Sucursal -->
        <div class="field">
          <label for="sucursalSelect">Sucursal</label>
          <div class="row">
            <select id="sucursalSelect" class="input"></select>
          </div>
          <div class="help" id="sucursalHelp">La sucursal queda guardada en esta PC.</div>
        </div>

        <!-- Vendedor -->
        <div class="field">
          <label for="vendedorId">N° vendedor</label>
          <input id="vendedorId" class="input" inputmode="numeric" autocomplete="off" placeholder="Ej: 1023" />
          <div class="help">Enter para buscar.</div>
        </div>

        <!-- Nombre -->
        <div class="field">
          <label>Nombre</label>
          <div class="readonly" id="vendedorNombre">—</div>
          <div class="help" id="padronHint">Se valida contra padrón.</div>
        </div>

        <!-- Hora -->
        <div class="field">
          <label for="horaSelect">Hora declarada</label>
          <select id="horaSelect" class="input"></select>
          <div class="help">Intervalos de 5 minutos.</div>
        </div>

        <!-- Tipo -->
        <div class="field">
          <label for="tipoEvento">Tipo</label>
          <select id="tipoEvento" class="input">
            <option value="ENTRADA">ENTRADA</option>
            <option value="SALIDA">SALIDA</option>
            <option value="PERMISO">PERMISO</option>
            <option value="FALTA">FALTA</option>
            <option value="VACACIONES">VACACIONES</option>
          </select>
          <div class="help">Podés dejar solo ENTRADA si querés simplificar.</div>
        </div>

        <!-- Observación -->
        <div class="field">
          <label for="observacion">Observación (opcional)</label>
          <input id="observacion" class="input" autocomplete="off" placeholder="Ej: llegó tarde por lluvia" />
          <div class="help">Se guarda junto al registro.</div>
        </div>

        <!-- NUEVO: Comprobante -->
        <div class="field">
          <label for="comprobanteFile">Comprobante / Certificado</label>
          <input
            id="comprobanteFile"
            class="input"
            type="file"
            accept="application/pdf,image/*"
          />
          <div class="help" id="comprobanteInfo">
            Opcional. PDF o imagen (preferentemente liviano).
          </div>
        </div>
      </div>

      <!-- Acciones -->
      <div class="actions">
        <button id="btnBuscar" class="btn" type="button">Buscar vendedor</button>
        <button id="btnGuardar" class="btn primary" type="button">Guardar</button>
        <button id="btnLimpiar" class="btn" type="button">Limpiar</button>
      </div>

      <div class="divider"></div>

      <!-- Último guardado -->
      <div class="last">
        <div class="last-title">Último guardado</div>
        <div class="last-box" id="lastSaved">—</div>
      </div>
    </section>
  </main>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script src="./app.js"></script>
</body>
</html>
